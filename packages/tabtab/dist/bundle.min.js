!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("tslib"),require("react"),require("styled-components"),require("invariant"),require("react-poppop"),require("react-sortable-hoc")):"function"==typeof define&&define.amd?define(["exports","tslib","react","styled-components","invariant","react-poppop","react-sortable-hoc"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).tabtab={},e.tslib,e.React,e.styled$1,e.invariant,e.Poppop,e.reactSortableHoc)}(this,(function(e,t,n,o,r,i,a){"use strict";function l(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}function s(e){if(e&&e.__esModule)return e;var t=Object.create(null);return e&&Object.keys(e).forEach((function(n){if("default"!==n){var o=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(t,n,o.get?o:{enumerable:!0,get:function(){return e[n]}})}})),t.default=e,Object.freeze(t)}var d=l(n),c=s(n),u=l(o),p=l(r),h=l(i),f=function(e){function n(t){var n=e.call(this,t)||this;return n.handleTabChange=n.handleTabChange.bind(n),n.handleTabSequence=n.handleTabSequence.bind(n),n.handleEdit=n.handleEdit.bind(n),n.state={activeIndex:n.getActiveIndex(t)},n}return t.__extends(n,e),n.prototype.getActiveIndex=function(e){var t=e.defaultIndex,n=e.activeIndex;return n||(t||0)},n.prototype.componentWillReceiveProps=function(e){e.activeIndex!==this.props.activeIndex&&this.setState({activeIndex:this.getActiveIndex(e)})},n.prototype.handleTabChange=function(e){var t=this.props,n=t.activeIndex,o=t.onTabChange;0===n||n||this.setState({activeIndex:e}),o&&o(e)},n.prototype.handleTabSequence=function(e){var t=e.oldIndex,n=e.newIndex,o=this.props.onTabSequenceChange;o&&o({oldIndex:t,newIndex:n})},n.prototype.handleEdit=function(e){var t=e.type,n=e.index,o=this.props.onTabEdit;o&&o({type:t,index:n})},n.prototype.render=function(){var e=this.props,n=e.children,o=t.__rest(e,["children"]),r=this.state.activeIndex,i=t.__assign({handleTabChange:this.handleTabChange,handleTabSequence:this.handleTabSequence,handleEdit:this.handleEdit,activeIndex:r},o);return d.default.createElement("div",null,d.default.Children.map(n,(function(e){return d.default.cloneElement(e,i)})))},n.defaultProps={showModalButton:4,showArrowButton:"auto",onTabChange:function(){},onTabSequenceChange:function(){},customStyle:{TabList:null,Tab:null,Panel:null,ActionButton:null}},n}(d.default.Component),b=function(e){var t=e.d;return d.default.createElement("svg",{viewBox:"0 0 40 40",fill:"currentColor",height:"1em",width:"1em",style:{verticalAlign:"middle"}},d.default.createElement("g",null,d.default.createElement("path",{d:t})))},g=function(){return d.default.createElement(b,{d:"m31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z"})},v=function(){return d.default.createElement(b,{d:"m25.7 12.3l-7.7 7.7 7.7 7.7-2.3 2.3-10-10 10-10z"})},m=function(){return d.default.createElement(b,{d:"m16.6 10l10 10-10 10-2.3-2.3 7.7-7.7-7.7-7.7z"})},x=function(){return d.default.createElement(b,{d:"m31.7 28.3h-23.4c-1.8 0-3.3 1.5-3.3 3.4s1.5 3.3 3.3 3.3h23.4c1.8 0 3.3-1.5 3.3-3.3s-1.5-3.4-3.3-3.4z m0-11.6h-23.4c-1.8 0-3.3 1.5-3.3 3.3s1.5 3.3 3.3 3.3h23.4c1.8 0 3.3-1.5 3.3-3.3s-1.5-3.3-3.3-3.3z m0-11.7h-23.4c-1.8 0-3.3 1.5-3.3 3.3s1.5 3.4 3.3 3.4h23.4c1.8 0 3.3-1.5 3.3-3.4s-1.5-3.3-3.3-3.3z"})};var _,y,w,T,E,S,k,B,C,A=function(e){function n(t){var n=e.call(this,t)||this;return n.onSortEnd=n.onSortEnd.bind(n),n}return t.__extends(n,e),n.prototype.onSortEnd=function(e){var t=e.oldIndex,n=e.newIndex,o=this.props,r=o.activeIndex,i=o.handleTabChange,a=o.handleTabSequence;t===n?r!==t&&i(t):a({oldIndex:t,newIndex:n})},n}(c.PureComponent),I=a.SortableContainer((function(e){var t=e.children;return c.createElement("div",{style:{marginTop:"50px"}},t)})),P=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){return c.createElement(I,{onSortEnd:this.onSortEnd,axis:"y",lockAxis:"y",pressDelay:100},this.props.children)},n}(A),M=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){return c.createElement(h.default,{open:!0,onClose:this.props.closeModal,closeOnEsc:!0,closeBtn:!0},c.createElement(P,{handleTabSequence:this.props.handleTabSequence,handleTabChange:this.props.handleTabChange,activeIndex:this.props.activeIndex},this.props.children))},n}(c.Component),N=u.default.div(_||(_=t.__makeTemplateObject(["\n  background-color: white;\n  text-align: left;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  width: auto;\n  padding: ",";\n"],["\n  background-color: white;\n  text-align: left;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  width: auto;\n  padding: ",";\n"])),(function(e){return n=(t=e).showModalButton,o=0,r=0,n&&(o+=35),t.showArrowButton&&(o+=35,r+=35,n&&(o+=2)),o>0&&(o+=3),r>0&&(r+=3),"0 ".concat(r,"px 0 ").concat(o,"px");var t,n,o,r})),R=u.default.div(y||(y=t.__makeTemplateObject(["\n  overflow: hidden;\n"],["\n  overflow: hidden;\n"]))),D=u.default.ul(w||(w=t.__makeTemplateObject(["\n  padding-left: 0;\n  position: relative;\n  margin: 0;\n  list-style: none;\n  display: inline-block;\n  transition: transform .3s cubic-bezier(.42, 0, .58, 1);\n"],["\n  padding-left: 0;\n  position: relative;\n  margin: 0;\n  list-style: none;\n  display: inline-block;\n  transition: transform .3s cubic-bezier(.42, 0, .58, 1);\n"]))),O=u.default.div(T||(T=t.__makeTemplateObject(["\n  height: 100%;\n  width: ","px;\n  text-align: center;\n  border: 1px solid #d9d9d9;\n  border-bottom: 0;\n  border-radius: 4px 4px 0 0;\n  background: #f9f9f9;\n  > svg {\n    padding-top: 11px;\n  }\n"],["\n  height: 100%;\n  width: ","px;\n  text-align: center;\n  border: 1px solid #d9d9d9;\n  border-bottom: 0;\n  border-radius: 4px 4px 0 0;\n  background: #f9f9f9;\n  > svg {\n    padding-top: 11px;\n  }\n"])),35),L=function(e){function n(t){var n=e.call(this,t)||this;return n.handleScroll=n.handleScroll.bind(n),n.toggleModal=n.toggleModal.bind(n),n.renderTabs=n.renderTabs.bind(n),n.renderArrowButton=n.renderArrowButton.bind(n),n.isShowModalButton=n.isShowModalButton.bind(n),n.isShowArrowButton=n.isShowArrowButton.bind(n),n.scrollPosition=0,n.tabRefs=[],n.state={modalIsOpen:!1,showArrowButton:!1,showModalButton:!1},n}return t.__extends(n,e),n.prototype.componentDidMount=function(){this.isShowArrowButton(),this.isShowModalButton(),this.props.activeIndex>0&&this.scrollToIndex(this.props.activeIndex,"left")},n.prototype.componentDidUpdate=function(e,t){if(e.children.length!==this.props.children.length&&(this.isShowArrowButton(),this.isShowModalButton()),e.activeIndex!==this.props.activeIndex){var n=this.props.activeIndex===this.props.children.length-1?"right":"left";this.scrollToIndex(this.props.activeIndex,n)}t.showArrowButton&&!this.state.showArrowButton&&this.scrollToZero(),e.showModalButton!==this.props.showModalButton&&this.isShowModalButton(),e.showArrowButton!==this.props.showArrowButton&&this.isShowArrowButton()},n.prototype.getTabNode=function(e){return e.__INTERNAL_NODE?e.__INTERNAL_NODE:e.__DRAG_TAB_INTERNAL_NODE?e.__DRAG_TAB_INTERNAL_NODE.node:void 0},n.prototype.unifyScrollMax=function(e){return e/3*2},n.prototype.handleScroll=function(e){var t=0,n=this.listContainer.getBoundingClientRect(),o=this.listContainer.offsetWidth,r=this.getTabNode(this.tabRefs[0]).getBoundingClientRect(),i=this.getTabNode(this.tabRefs[this.tabRefs.length-1]).getBoundingClientRect();"right"===e?(t=i.right-n.right)>o&&(t=this.unifyScrollMax(o)):"left"===e&&-(t=r.left-n.left)>o&&(t=-this.unifyScrollMax(o)),this.scrollPosition+=t,this.scrollPosition<0&&(this.scrollPosition=0),this.listScroll.style.transform="translate3d(-".concat(this.scrollPosition,"px, 0, 0)")},n.prototype.scrollToIndex=function(e,t){var n=this.getTabNode(this.tabRefs[e]).getBoundingClientRect(),o=this.listContainer.getBoundingClientRect();if(!(n.right<o.right&&n.left>o.left)){var r=n[t]-o[t];this.scrollPosition+=r,this.scrollPosition<0&&(this.scrollPosition=0),this.listScroll.style.transform="translate3d(-".concat(this.scrollPosition,"px, 0, 0)")}},n.prototype.scrollToZero=function(){this.listScroll.style.transform="translate3d(0, 0, 0)"},n.prototype.toggleModal=function(e){var t=this;this.setState({modalIsOpen:e},(function(){e||t.scrollToIndex(t.props.activeIndex,"right")}))},n.prototype.isShowModalButton=function(){var e=this.props.showModalButton;isNaN(parseInt(e,10))||(e=this.props.children.length>=e),this.setState({showModalButton:e})},n.prototype.isShowArrowButton=function(){var e=this.props.showArrowButton;if("auto"===e){var t=0,n=this.listContainer.offsetWidth;e=!1;for(var o=0;o<this.tabRefs.length;o++){if((t+=this.getTabNode(this.tabRefs[o]).offsetWidth)>=n){e=!0;break}}}this.setState({showArrowButton:e})},n.prototype.renderTabs=function(e,n){var o=this;void 0===e&&(e={});var r=this.props,i=r.children,a=r.activeIndex,l={handleTabChange:r.handleTabChange,handleEdit:r.handleEdit,CustomTabStyle:r.customStyle.Tab};return n||(this.tabRefs=[]),c.Children.map(i,(function(r,i){return c.cloneElement(r,t.__assign(t.__assign({key:i,active:i===a,index:i,tabIndex:i,ref:function(e){!n&&e&&o.tabRefs.push(e)}},l),e))}))},n.prototype.renderArrowButton=function(e){var t=this;return this.state.showArrowButton?c.createElement("div",null,c.createElement(e,{left:!0,onClick:function(){t.handleScroll("left")},ref:function(e){return t.leftArrowNode=e},showModalButton:this.state.showModalButton},c.createElement(v,null)),c.createElement(e,{onClick:function(){t.handleScroll("right")},ref:function(e){return t.rightArrowNode=e}},c.createElement(m,null))):null},n.prototype.render=function(){var e=this,n=this.props,o=n.customStyle,r=n.activeIndex,i=n.handleTabChange,a=n.handleTabSequence,l=n.ExtraButton,s=this.state.modalIsOpen,d=o.TabList||N,h=o.ActionButton||O,f=function(e){return u.default(e)(E||(E=t.__makeTemplateObject(["\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  ",";\n  &:hover {\n    cursor: pointer;\n  }\n"],["\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  ",";\n  &:hover {\n    cursor: pointer;\n  }\n"])),(function(e){return e.left?e.showModalButton?"left: ".concat(37,"px"):"left: 0":"right: 0"}))}(h),b=function(e){return u.default(e)(S||(S=t.__makeTemplateObject(["\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  left: 0;\n  &:hover {\n    cursor: pointer;\n  }\n"],["\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  left: 0;\n  &:hover {\n    cursor: pointer;\n  }\n"])))}(h);return p.default(this.props.children,"React-tabtab Error: You MUST pass at least one tab"),c.createElement("div",null,l||null,c.createElement(d,{hasExtraButton:!!l,showModalButton:this.state.showModalButton,showArrowButton:this.state.showArrowButton},this.state.showModalButton?c.createElement(b,{ref:function(t){return e.foldNode=t},onClick:this.toggleModal.bind(this,!0),showArrowButton:this.state.showArrowButton},c.createElement(x,null)):null,this.renderArrowButton(f),c.createElement(R,{ref:function(t){return e.listContainer=t}},c.createElement(D,{ref:function(t){return e.listScroll=t},role:"tablist"},this.renderTabs()))),s?c.createElement(M,{closeModal:this.toggleModal.bind(this,!1),handleTabSequence:a,handleTabChange:i,activeIndex:r},this.renderTabs({vertical:!0},!0)):null)},n}(c.Component),j=u.default.button(k||(k=t.__makeTemplateObject(["\n  display: inline-block;\n  color: #777;\n  margin-left: 5px;\n  padding: 0;\n  vertical-align: middle;\n  border: 0;\n  padding: 2px;\n  outline: 0;\n  &:hover {\n    color: black;\n    background-color: #eee;\n    cursor: pointer;\n    border-radius: 50%;\n  }\n  > svg {\n    vertical-align: middle;\n  }\n"],["\n  display: inline-block;\n  color: #777;\n  margin-left: 5px;\n  padding: 0;\n  vertical-align: middle;\n  border: 0;\n  padding: 2px;\n  outline: 0;\n  &:hover {\n    color: black;\n    background-color: #eee;\n    cursor: pointer;\n    border-radius: 50%;\n  }\n  > svg {\n    vertical-align: middle;\n  }\n"]))),q=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){return c.createElement(j,{onClick:this.props.handleDelete},c.createElement(g,null))},n}(c.PureComponent),z=c.forwardRef((function(e,n){return c.createElement("li",t.__assign({ref:n},e),e.children)})),W=u.default(z)(B||(B=t.__makeTemplateObject(["\n  display: ",";\n  ","\n\n  user-select: none;\n  &:hover {\n    cursor: pointer;\n    color: black;\n  }\n"],["\n  display: ",";\n  ","\n\n  user-select: none;\n  &:hover {\n    cursor: pointer;\n    color: black;\n  }\n"])),(function(e){return e.vertical?"block":"inline-block"}),(function(e){return e.vertical?"\n      background-color: white;\n      color: black;\n      padding: 10px 10px;\n      z-index: 100000;\n    ":function(e){return e.closable?"padding: 10px 10px 10px 15px;":"padding: 10px 15px;"}})),F=u.default.span(C||(C=t.__makeTemplateObject(["\n  vertical-align: middle;\n"],["\n  vertical-align: middle;\n"]))),G=function(e){function n(t){var n=e.call(this,t)||this;return n.clickTab=n.clickTab.bind(n),n.clickDelete=n.clickDelete.bind(n),n}return t.__extends(n,e),n.prototype.clickTab=function(){var e=this.props;(0,e.handleTabChange)(e.index)},n.prototype.clickDelete=function(e){e.stopPropagation();var t=this.props;(0,t.handleEdit)({type:"delete",index:t.index})},n.prototype.render=function(){var e=this,t=this.props,n=t.CustomTabStyle,o=t.active,r=t.closable,i=t.vertical,a=t.index,l=n||W;return c.createElement(l,{ref:function(t){return e.__INTERNAL_NODE=t},onClick:this.clickTab,active:o,vertical:i,closable:r,role:"tab",id:"react-tabtab-tab-".concat(a),"aria-controls":"react-tabtab-panel-".concat(a),"aria-selected":o},c.createElement(F,null,this.props.children),r?c.createElement(q,{handleDelete:this.clickDelete}):null)},n}(c.PureComponent),U=a.SortableContainer((function(e){var n=e.children,o=t.__rest(e,["children"]);return d.default.createElement(L,t.__assign({},o),n)})),Z=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,n=e.children,o=t.__rest(e,["children"]);return d.default.createElement(U,t.__assign({onSortEnd:this.onSortEnd,axis:"x",lockAxis:"x",pressDelay:100},o),n)},n}(A);Z.displayName="DragTabList";var H,Y,$=a.SortableElement((function(e){var n=e.children,o=t.__rest(e,["children"]);return c.createElement(G,t.__assign({},o,{index:o.tabIndex}),n)})),J=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){var e=this,n=this.props,o=n.children,r=t.__rest(n,["children"]);return c.createElement($,t.__assign({index:0,ref:function(t){return e.__DRAG_TAB_INTERNAL_NODE=t}},r),o)},n}(c.PureComponent),K=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,n=e.children,o=e.activeIndex,r=e.customStyle;if(!n||void 0===o)return null;var i={};r&&r.Panel&&(i=t.__assign(t.__assign({},i),{CustomPanelStyle:r.Panel}));var a=c.Children.toArray(n).map((function(e,n){return c.cloneElement(e,t.__assign({key:n,active:n===o,index:n},i))}));return c.createElement("div",null,a)},n}(c.PureComponent),Q=u.default.div(H||(H=t.__makeTemplateObject(["\n  background-color: white;\n  text-align: left;\n  padding: 20px 15px;\n  ","\n"],["\n  background-color: white;\n  text-align: left;\n  padding: 20px 15px;\n  ","\n"])),(function(e){return e.active?null:"display: none;"})),V=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,t=e.active,n=e.index,o=this.props.CustomPanelStyle||Q;return c.createElement(o,{role:"tabpanel",id:"react-tabtab-panel-".concat(n),"aria-labelledby":"react-tabtab-".concat(n),"aria-hidden":!1,active:t},t?this.props.children:null)},n}(c.PureComponent),X=function(e){function n(t){var n=e.call(this,t)||this;return n.loadPanel=n.loadPanel.bind(n),n.cacheData=void 0,n.state={isLoading:!1,data:void 0},n}return t.__extends(n,e),n.prototype.componentDidMount=function(){this.props.active&&this.loadPanel()},n.prototype.componentWillReceiveProps=function(e){e.active&&this.loadPanel()},n.prototype.loadPanel=function(){var e=this,t=this.props,n=t.loadContent,o=t.cache;if(o&&this.cacheData)this.setState({isLoading:!1,data:this.cacheData});else{var r=function(t,n){t&&console.log("React-Tabtab async panel error:",t),o&&(e.cacheData=n),e.setState({isLoading:!1,data:n})},i=n(r);i&&i.then((function(e){return r(null,e)}),(function(e){return r(e)})),this.state.isLoading||this.setState({isLoading:!0})}},n.prototype.render=function(){var e,n=this.props,o=n.render,r=n.renderLoading,i=n.CustomPanelStyle,a=n.active,l=n.index,s=this.state,d=s.isLoading,u=s.data;return e=d?r():o(u),c.createElement(V,t.__assign({},{CustomPanelStyle:i,active:a,index:l}),e)},n.defaultProps={cache:!0},n}(c.PureComponent),ee=u.default.button(Y||(Y=t.__makeTemplateObject(["\n  float: right;\n  border: 1px solid #eee;\n  border-radius: 2px;\n  padding: 3px;\n  margin-top: 10px;\n  margin-left: 2px;\n  display: inline-block;\n  color: #777;\n  vertical-align: middle;\n  /* "," */\n  &:hover {\n    color: black;\n    cursor: pointer;\n  }\n  &:disabled,\n  &[disabled]{\n    border: 1px solid grey;\n    background-color: #e7e7e7;\n    cursor: not-allowed;\n  }\n"],["\n  float: right;\n  border: 1px solid #eee;\n  border-radius: 2px;\n  padding: 3px;\n  margin-top: 10px;\n  margin-left: 2px;\n  display: inline-block;\n  color: #777;\n  vertical-align: middle;\n  /* "," */\n  &:hover {\n    color: black;\n    cursor: pointer;\n  }\n  &:disabled,\n  &[disabled]{\n    border: 1px solid grey;\n    background-color: #e7e7e7;\n    cursor: not-allowed;\n  }\n"])),(function(e){return e.disabled?"\n    pointer-events: none;\n    color: #AAA;\n    background: #F5F5F5;\n  ":null})),te=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return t.__extends(n,e),n.prototype.render=function(){var e=this.props,t=e.disabled,n=e.onClick;return c.createElement(ee,{onClick:n,disabled:t},this.props.children)},n.defaultProps={disabled:!1},n}(c.PureComponent),ne={TabListStyle:N,ActionButtonStyle:O,TabStyle:W,PanelStyle:Q};e.AsyncPanel=X,e.DragTab=J,e.DragTabList=Z,e.ExtraButton=te,e.Panel=V,e.PanelList=K,e.Tab=G,e.TabList=L,e.Tabs=f,e.styled=ne,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=bundle.min.js.map
