{"version":3,"file":"bundle.js","sources":["../src/Tabs.tsx","../src/IconSvg.tsx","../src/utils/isType.ts","../src/SortMethod.tsx","../src/TabModal.tsx","../src/TabList.tsx","../src/CloseButton.tsx","../src/Tab.tsx","../src/DragTabList.tsx","../src/DragTab.tsx","../src/PanelList.tsx","../src/Panel.tsx","../src/AsyncPanel.tsx","../src/ExtraButton.tsx","../src/index.ts"],"sourcesContent":["import React from \"react\"\n\ntype TabsProps = {\n  defaultIndex?: number\n  activeIndex?: number | null\n  showModalButton?: number | boolean\n  showArrowButton?: \"auto\" | boolean\n  ExtraButton?: React.ReactNode\n  onTabChange?: (event: any) => void\n  onTabSequenceChange?: (event: any) => void\n  onTabEdit?: (event: any) => void\n  customStyle?: {\n    TabList?: () => void\n    Tab?: () => void\n    Panel?: () => void\n    ActionButton?: () => void\n  }\n  children: React.ReactElement\n}\n\ntype State = {\n  activeIndex: number\n}\n\nexport default class Tabs extends React.Component<TabsProps, State> {\n  constructor(props: TabsProps) {\n    super(props)\n    this.handleTabChange = this.handleTabChange.bind(this)\n    this.handleTabSequence = this.handleTabSequence.bind(this)\n    this.handleEdit = this.handleEdit.bind(this)\n    this.state = {\n      activeIndex: this.getActiveIndex(props)\n    }\n  }\n\n  static defaultProps: Partial<TabsProps> = {\n    showModalButton: 4,\n    showArrowButton: \"auto\",\n    onTabChange: () => {},\n    onTabSequenceChange: () => {},\n    customStyle: {\n      TabList: null,\n      Tab: null,\n      Panel: null,\n      ActionButton: null\n    }\n  }\n\n  getActiveIndex(props: TabsProps) {\n    const { defaultIndex, activeIndex } = props\n    if (activeIndex) return activeIndex\n    if (defaultIndex) return defaultIndex\n    return 0\n  }\n\n  componentWillReceiveProps(nextProps: TabsProps) {\n    if (nextProps.activeIndex !== this.props.activeIndex) {\n      this.setState({ activeIndex: this.getActiveIndex(nextProps) })\n    }\n  }\n\n  handleTabChange(index: number) {\n    const { activeIndex, onTabChange } = this.props\n    if (activeIndex !== 0 && !activeIndex) {\n      this.setState({ activeIndex: index })\n    }\n    if (onTabChange) {\n      onTabChange(index)\n    }\n  }\n\n  handleTabSequence({\n    oldIndex,\n    newIndex\n  }: {\n    oldIndex: number\n    newIndex: number\n  }) {\n    const { onTabSequenceChange } = this.props\n    if (onTabSequenceChange) {\n      onTabSequenceChange({ oldIndex, newIndex })\n    }\n  }\n\n  handleEdit({ type, index }: { type: string; index: number }) {\n    const { onTabEdit } = this.props\n    if (onTabEdit) {\n      onTabEdit({ type, index })\n    }\n  }\n\n  render() {\n    const { children, ...extraProps } = this.props\n    const { activeIndex } = this.state\n    const props = {\n      handleTabChange: this.handleTabChange,\n      handleTabSequence: this.handleTabSequence,\n      handleEdit: this.handleEdit,\n      activeIndex,\n      ...extraProps\n    }\n\n    return (\n      <div>\n        {React.Children.map(children, (child) => {\n          return React.cloneElement(child, props)\n        })}\n      </div>\n    )\n  }\n}\n","import React from \"react\"\n// The svg path is from react-icons: https://github.com/gorangajic/react-icons/\nconst Svg = ({ d }: { d: string }) => (\n  <svg\n    viewBox=\"0 0 40 40\"\n    fill=\"currentColor\"\n    height=\"1em\"\n    width=\"1em\"\n    style={{ verticalAlign: \"middle\" }}\n  >\n    <g>\n      <path d={d} />\n    </g>\n  </svg>\n)\n\nconst CloseIcon = () => (\n  <Svg d=\"m31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z\" />\n)\n\nconst LeftIcon = () => (\n  <Svg d=\"m25.7 12.3l-7.7 7.7 7.7 7.7-2.3 2.3-10-10 10-10z\" />\n)\n\nconst RightIcon = () => (\n  <Svg d=\"m16.6 10l10 10-10 10-2.3-2.3 7.7-7.7-7.7-7.7z\" />\n)\n\nconst BulletIcon = () => (\n  <Svg d=\"m31.7 28.3h-23.4c-1.8 0-3.3 1.5-3.3 3.4s1.5 3.3 3.3 3.3h23.4c1.8 0 3.3-1.5 3.3-3.3s-1.5-3.4-3.3-3.4z m0-11.6h-23.4c-1.8 0-3.3 1.5-3.3 3.3s1.5 3.3 3.3 3.3h23.4c1.8 0 3.3-1.5 3.3-3.3s-1.5-3.3-3.3-3.3z m0-11.7h-23.4c-1.8 0-3.3 1.5-3.3 3.3s1.5 3.4 3.3 3.4h23.4c1.8 0 3.3-1.5 3.3-3.4s-1.5-3.3-3.3-3.3z\" />\n)\n\nexport { CloseIcon, LeftIcon, RightIcon, BulletIcon }\n","// @flow\nexport function isTabList(element: any) {\n  return element.type && \n         (element.type.displayName === 'TabList' || element.type.displayName === 'DragTabList');  \n}\n\nexport function isTab(element: any) {\n  return element.type && \n         (element.type.displayName === 'Tab' || element.type.displayName === 'DragTab');\n}\n\nexport function isNumber(number: any) {\n  return !isNaN(parseInt(number, 10));\n}","// @flow\nimport * as React from 'react';\n\ntype Props = {\n  handleTabChange: (event: any) => void,\n  handleTabSequence: (event: any) => void,\n  activeIndex: number,\n  children: React.ReactNode\n};\n\nexport default class SortMethod extends React.PureComponent<Props> {\n  constructor(props: Props) {\n    super(props);\n    this.onSortEnd = this.onSortEnd.bind(this);\n  }\n\n  onSortEnd({oldIndex, newIndex}: {oldIndex: number, newIndex: number}) {\n    const {activeIndex, handleTabChange, handleTabSequence} = this.props;\n    if (oldIndex === newIndex) {\n      if (activeIndex !== oldIndex) {\n        handleTabChange(oldIndex);\n      }\n    } else {\n      handleTabSequence({oldIndex, newIndex});\n    }\n  }\n}","import * as React from \"react\"\n// @ts-expect-error\nimport Poppop from \"react-poppop\"\nimport { SortableContainer } from \"react-sortable-hoc\"\nimport SortMethod from \"./SortMethod\"\n\ntype Props = {\n  closeModal: (event: any) => void\n  handleTabSequence: (event: any) => void\n  handleTabChange: (event: any) => void\n  activeIndex: number\n  children: React.ReactNode\n}\n\nconst DragTabContainer = SortableContainer(\n  ({ children }: { children: React.ReactNode }) => {\n    return <div style={{ marginTop: \"50px\" }}>{children}</div>\n  }\n)\n\nclass ModalTabListWrapper extends SortMethod {\n  render() {\n    return (\n      <DragTabContainer\n        onSortEnd={this.onSortEnd}\n        axis=\"y\"\n        lockAxis=\"y\"\n        // if no pressDelay, close button cannot be triggered,\n        // because it would always treat click as dnd action\n        pressDelay={100}\n      >\n        {this.props.children}\n      </DragTabContainer>\n    )\n  }\n}\n\nexport default class TabModal extends React.Component<Props> {\n  render() {\n    return (\n      <Poppop\n        open={true}\n        onClose={this.props.closeModal}\n        closeOnEsc={true}\n        closeBtn={true}\n      >\n        <ModalTabListWrapper\n          handleTabSequence={this.props.handleTabSequence}\n          handleTabChange={this.props.handleTabChange}\n          activeIndex={this.props.activeIndex}\n        >\n          {this.props.children}\n        </ModalTabListWrapper>\n      </Poppop>\n    )\n  }\n}\n","// @ts-nocheck\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport invariant from 'invariant';\nimport { LeftIcon, RightIcon, BulletIcon } from './IconSvg';\nimport { isNumber } from './utils/isType';\nimport TabModal from './TabModal';\n\nconst buttonWidth = 35;\nconst getPadding = ({ showModalButton, showArrowButton }) => {\n    let paddingLeft = 0;\n    let paddingRight = 0;\n    if (showModalButton) {\n        paddingLeft += buttonWidth;\n    }\n    if (showArrowButton) {\n        paddingLeft += buttonWidth;\n        paddingRight += buttonWidth;\n        if (showModalButton) {\n            paddingLeft += 2;\n        }\n    }\n    if (paddingLeft > 0) {\n        paddingLeft += 3;\n    }\n    if (paddingRight > 0) {\n        paddingRight += 3;\n    }\n    return `0 ${paddingRight}px 0 ${paddingLeft}px`;\n};\n\nconst TabListStyle = styled.div`\n    background-color: white;\n    text-align: left;\n    position: relative;\n    white-space: nowrap;\n    overflow: hidden;\n    width: auto;\n    padding: ${props => getPadding(props)};\n`;\n\nconst ListInner = styled.div`\n    overflow: hidden;\n`;\n\nconst ListScroll = styled.ul`\n    padding-left: 0;\n    position: relative;\n    margin: 0;\n    list-style: none;\n    display: inline-block;\n    transition: transform 0.3s cubic-bezier(0.42, 0, 0.58, 1);\n`;\n\nconst ActionButtonStyle = styled.div`\n    height: 100%;\n    width: ${buttonWidth}px;\n    text-align: center;\n    border: 1px solid #d9d9d9;\n    border-bottom: 0;\n    border-radius: 4px 4px 0 0;\n    background: #f9f9f9;\n    > svg {\n        padding-top: 11px;\n    }\n`;\n\nconst makeScrollButton = ActionButton => styled(ActionButton)`\n    display: inline-block;\n    filter: none;\n    position: absolute;\n    ${props => (props.left ? (props.showModalButton ? `left: ${buttonWidth + 2}px` : `left: 0`) : 'right: 0')};\n    &:hover {\n        cursor: pointer;\n    }\n`;\n\nconst makeFoldButton = ActionButton => styled(ActionButton)`\n    display: inline-block;\n    filter: none;\n    position: absolute;\n    left: 0;\n    &:hover {\n        cursor: pointer;\n    }\n`;\n\ntype Props = {\n    customStyle: {\n        TabList: React.FC<Partial<Props>>;\n        Tab: JSX.Element;\n        ActionButton: JSX.Element;\n    };\n    activeIndex: number;\n    showArrowButton: 'auto' | boolean;\n    showModalButton: number | boolean;\n    handleTabChange: (event: any) => void;\n    handleTabSequence: (event: any) => void;\n    handleEdit: (event: any) => void;\n    ExtraButton: React.ReactElement<any>;\n    children: React.ReactNode[];\n    hasExtraButton?: boolean;\n};\n\ntype State = {\n    modalIsOpen: boolean;\n    showArrowButton: boolean;\n    showModalButton: boolean | number;\n};\n\nexport default class TabListComponent extends React.Component<Props, State> {\n    listContainer: React.ElementRef<'div'>;\n    rightArrowNode: React.ElementRef<'div'>;\n    leftArrowNode: React.ElementRef<'div'>;\n    listScroll: React.ElementRef<'ul'>;\n    foldNode: React.ElementRef<'div'>;\n    tabRefs: React.ElementRef<'div'>[];\n    scrollPosition: number;\n\n    constructor(props: Props) {\n        super(props);\n        this.handleScroll = this.handleScroll.bind(this);\n        this.toggleModal = this.toggleModal.bind(this);\n        this.renderTabs = this.renderTabs.bind(this);\n        this.renderArrowButton = this.renderArrowButton.bind(this);\n        this.isShowModalButton = this.isShowModalButton.bind(this);\n        this.isShowArrowButton = this.isShowArrowButton.bind(this);\n        this.scrollPosition = 0;\n        this.tabRefs = [];\n        this.state = {\n            modalIsOpen: false,\n            showArrowButton: false,\n            showModalButton: false\n        };\n    }\n\n    componentDidMount() {\n        this.isShowArrowButton();\n        this.isShowModalButton();\n        if (this.props.activeIndex > 0) this.scrollToIndex(this.props.activeIndex, 'left');\n    }\n\n    componentDidUpdate(prevProps: Props, prevState: State) {\n        if (prevProps.children.length !== this.props.children.length) {\n            this.isShowArrowButton();\n            this.isShowModalButton();\n        }\n\n        if (prevProps.activeIndex !== this.props.activeIndex) {\n            //if we scroll to the last tab, alignment is set to the right side of the tab\n            const rectSide = this.props.activeIndex === this.props.children.length - 1 ? 'right' : 'left';\n            this.scrollToIndex(this.props.activeIndex, rectSide);\n        }\n        // if prev state show arrow button, and current state doesn't show\n        // need to reset the scroll position, or some tabs will be hided by container.\n        if (prevState.showArrowButton && !this.state.showArrowButton) {\n            this.scrollToZero();\n        }\n\n        if (prevProps.showModalButton !== this.props.showModalButton) {\n            this.isShowModalButton();\n        }\n\n        if (prevProps.showArrowButton !== this.props.showArrowButton) {\n            this.isShowArrowButton();\n        }\n    }\n\n    getTabNode(tab: any): React.ElementRef<any> {\n        if (tab.__INTERNAL_NODE) {\n            // normal tab\n            return tab.__INTERNAL_NODE;\n        } else if (tab.__DRAG_TAB_INTERNAL_NODE) {\n            // drag tab\n            return tab.__DRAG_TAB_INTERNAL_NODE.node;\n        }\n    }\n\n    unifyScrollMax(width: number) {\n        return (width / 3) * 2;\n    }\n\n    handleScroll(direction: 'right' | 'left') {\n        let leftMove = 0;\n        const containerOffset = this.listContainer.getBoundingClientRect();\n        const containerWidth = this.listContainer.offsetWidth;\n        const tabFirstOffset = this.getTabNode(this.tabRefs[0]).getBoundingClientRect();\n        const tabLastOffset = this.getTabNode(this.tabRefs[this.tabRefs.length - 1]).getBoundingClientRect();\n\n        if (direction === 'right') {\n            leftMove = tabLastOffset.right - containerOffset.right;\n            if (leftMove > containerWidth) {\n                leftMove = this.unifyScrollMax(containerWidth);\n            }\n        } else if (direction === 'left') {\n            leftMove = tabFirstOffset.left - containerOffset.left;\n            if (-leftMove > containerWidth) {\n                leftMove = -this.unifyScrollMax(containerWidth);\n            }\n        }\n        this.scrollPosition += leftMove;\n        if (this.scrollPosition < 0) {\n            this.scrollPosition = 0;\n        }\n\n        this.listScroll.style.transform = `translate3d(-${this.scrollPosition}px, 0, 0)`;\n    }\n\n    // $FlowFixMe\n    scrollToIndex(index: number, rectSide: 'left' | 'right') {\n        const tabOffset = this.getTabNode(this.tabRefs[index]).getBoundingClientRect();\n        const containerOffset = this.listContainer.getBoundingClientRect();\n        // Cancel scrolling if the tab is visible\n        if (tabOffset.right < containerOffset.right && tabOffset.left > containerOffset.left) return;\n        const leftMove = tabOffset[rectSide] - containerOffset[rectSide];\n        this.scrollPosition += leftMove;\n        if (this.scrollPosition < 0) {\n            this.scrollPosition = 0;\n        }\n        this.listScroll.style.transform = `translate3d(-${this.scrollPosition}px, 0, 0)`;\n    }\n\n    scrollToZero() {\n        this.listScroll.style.transform = `translate3d(0, 0, 0)`;\n    }\n\n    toggleModal(open: boolean) {\n        this.setState({ modalIsOpen: open }, () => {\n            if (!open) {\n                // $FlowFixMe\n                this.scrollToIndex(this.props.activeIndex, 'right');\n            }\n        });\n    }\n\n    isShowModalButton() {\n        let { showModalButton } = this.props;\n        if (isNumber(showModalButton)) {\n            // $FlowFixMe, weired. currently set showModalButton as number | bool, but don't know why flow only can recognize it as bool\n            showModalButton = this.props.children.length >= showModalButton;\n        }\n        this.setState({ showModalButton });\n    }\n\n    isShowArrowButton() {\n        let { showArrowButton } = this.props;\n        if (showArrowButton === 'auto') {\n            let tabWidth = 0;\n            const containerWidth = this.listContainer.offsetWidth;\n            showArrowButton = false;\n            for (let index = 0; index < this.tabRefs.length; index++) {\n                const tab = this.getTabNode(this.tabRefs[index]);\n                tabWidth += tab.offsetWidth;\n                if (tabWidth >= containerWidth) {\n                    showArrowButton = true;\n                    break;\n                }\n            }\n        }\n        // $FlowFixMe: flow will show 'auto' is not bool, but with this logic, showArrowButton will never be 'auto'\n        this.setState({ showArrowButton });\n    }\n\n    renderTabs(options: any = {}, isModal?: boolean) {\n        const { children, activeIndex, handleTabChange, handleEdit, customStyle } = this.props;\n        const props = {\n            handleTabChange,\n            handleEdit,\n            //$FlowFixMe\n            CustomTabStyle: customStyle.Tab\n        };\n        if (!isModal) {\n            this.tabRefs = [];\n        }\n        return React.Children.map(children, (child, index) =>\n            React.cloneElement(child, {\n                key: index,\n                active: index === activeIndex,\n                index,\n                tabIndex: index,\n                ref: node => {\n                    if (!isModal && node) {\n                        this.tabRefs.push(node);\n                    }\n                },\n                ...props,\n                ...options\n            })\n        );\n    }\n\n    renderArrowButton(ScrollButton: React.ComponentType<any>) {\n        const { showArrowButton } = this.state;\n        if (showArrowButton) {\n            return (\n                <div>\n                    <ScrollButton\n                        left\n                        onClick={() => {\n                            this.handleScroll('left');\n                        }}\n                        ref={node => (this.leftArrowNode = node)}\n                        showModalButton={this.state.showModalButton}\n                    >\n                        <LeftIcon />\n                    </ScrollButton>\n                    <ScrollButton\n                        onClick={() => {\n                            this.handleScroll('right');\n                        }}\n                        ref={node => (this.rightArrowNode = node)}\n                    >\n                        <RightIcon />\n                    </ScrollButton>\n                </div>\n            );\n        }\n        return null;\n    }\n\n    render() {\n        const { customStyle, activeIndex, handleTabChange, handleTabSequence, ExtraButton } = this.props;\n        const { modalIsOpen } = this.state;\n        const TabList = customStyle.TabList || TabListStyle;\n        const ActionButton = customStyle.ActionButton || ActionButtonStyle;\n        const ScrollButton = makeScrollButton(ActionButton);\n        const FoldButton = makeFoldButton(ActionButton);\n        invariant(this.props.children, 'React-tabtab Error: You MUST pass at least one tab');\n        return (\n            <div>\n                {ExtraButton ? ExtraButton : null}\n                <TabList\n                    hasExtraButton={!!ExtraButton}\n                    showModalButton={this.state.showModalButton}\n                    showArrowButton={this.state.showArrowButton}\n                >\n                    {this.state.showModalButton ? (\n                        <FoldButton\n                            ref={node => (this.foldNode = node)}\n                            onClick={this.toggleModal.bind(this, true)}\n                            showArrowButton={this.state.showArrowButton}\n                        >\n                            <BulletIcon />\n                        </FoldButton>\n                    ) : null}\n                    {this.renderArrowButton(ScrollButton)}\n                    <ListInner ref={node => (this.listContainer = node)}>\n                        <ListScroll ref={node => (this.listScroll = node)} role=\"tablist\">\n                            {this.renderTabs()}\n                        </ListScroll>\n                    </ListInner>\n                </TabList>\n                {modalIsOpen ? (\n                    <TabModal\n                        closeModal={this.toggleModal.bind(this, false)}\n                        handleTabSequence={handleTabSequence}\n                        handleTabChange={handleTabChange}\n                        activeIndex={activeIndex}\n                    >\n                        {this.renderTabs({ vertical: true }, true)}\n                    </TabModal>\n                ) : null}\n            </div>\n        );\n    }\n}\n\nexport { TabListStyle, ActionButtonStyle };\n","// @flow\nimport * as React from \"react\"\nimport { CloseIcon } from \"./IconSvg\"\nimport styled from \"styled-components\"\n\nconst CloseWrapper = styled.button`\n  display: inline-block;\n  color: #777;\n  margin-left: 5px;\n  padding: 0;\n  vertical-align: middle;\n  border: 0;\n  padding: 2px;\n  outline: 0;\n  &:hover {\n    color: black;\n    background-color: #eee;\n    cursor: pointer;\n    border-radius: 50%;\n  }\n  > svg {\n    vertical-align: middle;\n  }\n`\n\ntype Props = {\n  handleDelete: (event: any) => void\n}\n\nexport default class CloseButton extends React.PureComponent<Props> {\n  render() {\n    return (\n      <CloseWrapper onClick={this.props.handleDelete}>\n        <CloseIcon />\n      </CloseWrapper>\n    )\n  }\n}\n","// @flow\nimport * as React from \"react\"\nimport styled from \"styled-components\"\nimport CloseButton from \"./CloseButton\"\n\n// const TabLi: React.FC<React.LiHTMLAttributes<HTMLLIElement> & TabProps> = (props: React.LiHTMLAttributes<HTMLLIElement>) => {\n//   return <li {...props}></li>\n// }\n\nconst TabLi = React.forwardRef<\n  HTMLLIElement,\n  React.LiHTMLAttributes<HTMLLIElement> & Partial<TabProps>\n>((props: React.LiHTMLAttributes<HTMLLIElement> & Partial<TabProps>, ref) => {\n  return (\n    <li ref={ref} {...props}>\n      {props.children}\n    </li>\n  )\n})\n\nconst TabStyle = styled(TabLi)`\n  display: ${(props) => (props.vertical ? \"block\" : \"inline-block\")};\n  ${(props) =>\n    props.vertical\n      ? `\n      background-color: white;\n      color: black;\n      padding: 10px 10px;\n      z-index: 100000;\n    `\n      : (props) =>\n          props.closable\n            ? \"padding: 10px 10px 10px 15px;\"\n            : \"padding: 10px 15px;\"}\n\n  user-select: none;\n  &:hover {\n    cursor: pointer;\n    color: black;\n  }\n`\n\nconst TabText = styled.span`\n  vertical-align: middle;\n`\n\nexport type TabProps = {\n  CustomTabStyle: React.FC<Partial<TabProps>>\n  handleTabChange: (event: any) => void\n  handleEdit: (event: any) => void\n  index: number\n  active: boolean\n  closable: boolean\n  vertical: boolean\n  children: React.ReactNode\n}\n\nexport default class Tab extends React.PureComponent<TabProps> {\n  __INTERNAL_NODE: React.ElementRef<any>\n\n  constructor(props: TabProps) {\n    super(props)\n    this.clickTab = this.clickTab.bind(this)\n    this.clickDelete = this.clickDelete.bind(this)\n  }\n\n  clickTab() {\n    const { handleTabChange, index } = this.props\n    handleTabChange(index)\n  }\n\n  clickDelete(event: React.SyntheticEvent<HTMLButtonElement>) {\n    event.stopPropagation() // prevent trigger clickTab event.\n    const { handleEdit, index } = this.props\n    handleEdit({ type: \"delete\", index })\n  }\n\n  render() {\n    const { CustomTabStyle, active, closable, vertical, index } = this.props\n    const TabComponent = CustomTabStyle || TabStyle\n    return (\n      <TabComponent\n        ref={(node) => (this.__INTERNAL_NODE = node)}\n        onClick={this.clickTab}\n        //  active={active}\n        vertical={vertical}\n        closable={closable}\n        role=\"tab\"\n        id={`react-tabtab-tab-${index}`}\n        aria-controls={`react-tabtab-panel-${index}`}\n        aria-selected={active}\n      >\n        <TabText>{this.props.children}</TabText>\n        {closable ? <CloseButton handleDelete={this.clickDelete} /> : null}\n      </TabComponent>\n    )\n  }\n}\n\nexport { TabStyle }\n","// @ts-nocheck\nimport React from \"react\"\nimport SortMethod from \"./SortMethod\"\nimport { SortableContainer } from \"react-sortable-hoc\"\nimport TabList from \"./TabList\"\n\nconst DragTabContainer = SortableContainer(({ children, ...props }) => {\n  return <TabList {...props}>{children}</TabList>\n})\n\nexport default class DragTabList extends SortMethod {\n  render() {\n    const { children, ...props } = this.props\n    return (\n      <DragTabContainer\n        onSortEnd={this.onSortEnd}\n        axis=\"x\"\n        lockAxis=\"x\"\n        // if no pressDelay, close button cannot be triggered,\n        // because it would always treat click as dnd action\n        pressDelay={100}\n        {...props}\n      >\n        {children}\n      </DragTabContainer>\n    )\n  }\n}\n\nDragTabList.displayName = \"DragTabList\"\n","// @flow\nimport * as React from \"react\"\nimport { SortableElement } from \"react-sortable-hoc\"\nimport Tab, { TabProps } from \"./Tab\"\n\nconst DragTabElement = SortableElement(\n  ({ children, ...props }: Partial<TabProps>) => {\n    return (\n      // @ts-ignore\n      <Tab {...props} index={props.tabIndex}>\n        {children}\n      </Tab>\n    )\n  }\n)\n\nclass DragTab extends React.PureComponent {\n  __DRAG_TAB_INTERNAL_NODE: React.ElementRef<any>\n\n  render() {\n    const { children, ...props } = this.props\n    return (\n      <DragTabElement\n        index={0}\n        ref={(node) => (this.__DRAG_TAB_INTERNAL_NODE = node)}\n        {...props}\n      >\n        {children}\n      </DragTabElement>\n    )\n  }\n}\n\nexport default DragTab\n","// @flow\nimport * as React from \"react\"\nimport { ReactElement } from \"react\"\n\ntype Props = {\n  children: Array<any>\n  activeIndex: number\n  customStyle: {\n    Panel: () => void\n  }\n}\n\nexport default class PanelList extends React.PureComponent<Props> {\n  render() {\n    const { children, activeIndex, customStyle } = this.props\n    if (!children || activeIndex === undefined) {\n      return null\n    }\n\n    let props = {}\n    if (customStyle && customStyle.Panel) {\n      props = { ...props, CustomPanelStyle: customStyle.Panel }\n    }\n\n    // to prevent the type of one children is object type\n    const result = React.Children.toArray(children).map((child, index) =>\n      React.cloneElement(child as ReactElement, {\n        key: index,\n        active: index === activeIndex,\n        index,\n        ...props\n      })\n    )\n    return <div>{result}</div>\n  }\n}\n","// @flow\nimport * as React from \"react\"\nimport styled from \"styled-components\"\n\nconst PanelStyle = styled.div<{ active: boolean }>`\n  background-color: white;\n  text-align: left;\n  padding: 20px 15px;\n  ${(props) => (!props.active ? `display: none;` : null)}\n`\n\nexport type PanelProps = {\n  children: React.ReactNode\n  CustomPanelStyle: React.FC<Partial<PanelProps>>\n  active: boolean\n  index: number\n}\n\nexport default class PanelComponent extends React.PureComponent<PanelProps> {\n  render() {\n    const { active, index } = this.props\n    const Panel = this.props.CustomPanelStyle || PanelStyle\n    return (\n      <Panel\n        role=\"tabpanel\"\n        id={`react-tabtab-panel-${index}`}\n        aria-labelledby={`react-tabtab-${index}`}\n        aria-hidden={false}\n        active={active}\n      >\n        {active ? this.props.children : null}\n      </Panel>\n    )\n  }\n}\n\nexport { PanelStyle }\n","import * as React from 'react';\nimport Panel, { PanelProps } from './Panel';\n\ntype Props = {\n    loadContent: (cb: (err: any, data?: any) => void) => any;\n    render: (data: any) => React.ReactNode;\n    renderLoading: () => React.ReactNode;\n    CustomPanelStyle: React.FC<Partial<PanelProps>>;\n    active: boolean;\n    index: number;\n    cache: boolean;\n};\n\ntype State = {\n    isLoading: boolean;\n    data: any;\n};\n\nexport default class AsyncPanelComponent extends React.PureComponent<Props, State> {\n    static defaultProps = {\n        cache: true\n    };\n\n    cacheData: any;\n\n    constructor(props: Props) {\n        super(props);\n        this.loadPanel = this.loadPanel.bind(this);\n        this.cacheData = undefined;\n        this.state = {\n            isLoading: false,\n            data: undefined\n        };\n    }\n\n    componentDidMount() {\n        if (this.props.active) this.loadPanel();\n    }\n\n    componentWillReceiveProps(nextProps: Props) {\n        if (nextProps.active) this.loadPanel();\n    }\n\n    loadPanel() {\n        const { loadContent, cache } = this.props;\n        if (cache && this.cacheData) {\n            this.setState({\n                isLoading: false,\n                data: this.cacheData\n            });\n            return;\n        }\n        const callback = (err: any, data?: any) => {\n            if (err) {\n                console.log('React-Tabtab async panel error:', err);\n            }\n            if (cache) {\n                this.cacheData = data;\n            }\n            this.setState({\n                isLoading: false,\n                data\n            });\n        };\n        const promise = loadContent(callback);\n        if (promise) {\n            promise.then(\n                (data: any) => callback(null, data),\n                (err: any) => callback(err)\n            );\n        }\n        if (!this.state.isLoading) {\n            this.setState({ isLoading: true });\n        }\n    }\n\n    render() {\n        const { render, renderLoading, CustomPanelStyle, active, index } = this.props;\n        const { isLoading, data } = this.state;\n        let content;\n        if (isLoading) {\n            content = renderLoading();\n        } else {\n            content = render(data);\n        }\n        return <Panel {...{ CustomPanelStyle, active, index }}>{content}</Panel>;\n    }\n}\n","// @flow\nimport * as React from \"react\"\nimport styled from \"styled-components\"\n\nconst Wrapper = styled.button`\n  float: right;\n  border: 1px solid #eee;\n  border-radius: 2px;\n  padding: 3px;\n  margin-top: 10px;\n  margin-left: 2px;\n  display: inline-block;\n  color: #777;\n  vertical-align: middle;\n  /* ${(props) =>\n    props.disabled\n      ? `\n    pointer-events: none;\n    color: #AAA;\n    background: #F5F5F5;\n  `\n      : null} */\n  &:hover {\n    color: black;\n    cursor: pointer;\n  }\n  &:disabled,\n  &[disabled] {\n    border: 1px solid grey;\n    background-color: #e7e7e7;\n    cursor: not-allowed;\n  }\n`\n\ntype Props = {\n  onClick: (event: any) => void\n  disabled: boolean\n  children: React.ReactNode\n}\n\nexport default class ExtraButton extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false\n  }\n\n  render() {\n    const { disabled, onClick } = this.props\n    return (\n      <Wrapper onClick={onClick} disabled={disabled}>\n        {this.props.children}\n      </Wrapper>\n    )\n  }\n}\n","// @flow\nimport Tabs from \"./Tabs\"\nimport TabList, { TabListStyle, ActionButtonStyle } from \"./TabList\"\nimport Tab, { TabStyle } from \"./Tab\"\nimport DragTabList from \"./DragTabList\"\nimport DragTab from \"./DragTab\"\nimport PanelList from \"./PanelList\"\nimport Panel, { PanelStyle } from \"./Panel\"\nimport AsyncPanel from \"./AsyncPanel\"\nimport ExtraButton from \"./ExtraButton\"\n\nexport {\n  Tabs,\n  TabList,\n  Tab,\n  DragTabList,\n  DragTab,\n  PanelList,\n  Panel,\n  AsyncPanel,\n  ExtraButton\n}\n\nexport const styled = { TabListStyle, ActionButtonStyle, TabStyle, PanelStyle }\n"],"names":["__extends","__rest","__assign","React","DragTabContainer","SortableContainer","Poppop","styled","templateObject_1","__makeTemplateObject","templateObject_2","invariant","TabList","SortableElement","Panel"],"mappings":"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"}