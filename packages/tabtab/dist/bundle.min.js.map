{"version":3,"file":"bundle.min.js","sources":["../src/Tabs.tsx","../src/IconSvg.tsx","../src/SortMethod.tsx","../src/TabModal.tsx","../src/TabList.tsx","../src/utils/isType.ts","../src/CloseButton.tsx","../src/Tab.tsx","../src/DragTabList.tsx","../src/DragTab.tsx","../src/PanelList.tsx","../src/Panel.tsx","../src/AsyncPanel.tsx","../src/ExtraButton.tsx","../src/index.ts"],"sourcesContent":["import React from \"react\"\n\ntype TabsProps = {\n  defaultIndex?: number\n  activeIndex?: number | null\n  showModalButton?: number | boolean\n  showArrowButton?: \"auto\" | boolean\n  ExtraButton?: React.ReactNode\n  onTabChange?: (event: any) => void\n  onTabSequenceChange?: (event: any) => void\n  onTabEdit?: (event: any) => void\n  customStyle?: {\n    TabList?: () => void\n    Tab?: () => void\n    Panel?: () => void\n    ActionButton?: () => void\n  }\n  children: React.ReactElement\n}\n\ntype State = {\n  activeIndex: number\n}\n\nexport default class Tabs extends React.Component<TabsProps, State> {\n  constructor(props: TabsProps) {\n    super(props)\n    this.handleTabChange = this.handleTabChange.bind(this)\n    this.handleTabSequence = this.handleTabSequence.bind(this)\n    this.handleEdit = this.handleEdit.bind(this)\n    this.state = {\n      activeIndex: this.getActiveIndex(props)\n    }\n  }\n\n  static defaultProps: Partial<TabsProps> = {\n    showModalButton: 4,\n    showArrowButton: \"auto\",\n    onTabChange: () => {},\n    onTabSequenceChange: () => {},\n    customStyle: {\n      TabList: null,\n      Tab: null,\n      Panel: null,\n      ActionButton: null\n    }\n  }\n\n  getActiveIndex(props: TabsProps) {\n    const { defaultIndex, activeIndex } = props\n    if (activeIndex) return activeIndex\n    if (defaultIndex) return defaultIndex\n    return 0\n  }\n\n  componentWillReceiveProps(nextProps: TabsProps) {\n    if (nextProps.activeIndex !== this.props.activeIndex) {\n      this.setState({ activeIndex: this.getActiveIndex(nextProps) })\n    }\n  }\n\n  handleTabChange(index: number) {\n    const { activeIndex, onTabChange } = this.props\n    if (activeIndex !== 0 && !activeIndex) {\n      this.setState({ activeIndex: index })\n    }\n    if (onTabChange) {\n      onTabChange(index)\n    }\n  }\n\n  handleTabSequence({\n    oldIndex,\n    newIndex\n  }: {\n    oldIndex: number\n    newIndex: number\n  }) {\n    const { onTabSequenceChange } = this.props\n    if (onTabSequenceChange) {\n      onTabSequenceChange({ oldIndex, newIndex })\n    }\n  }\n\n  handleEdit({ type, index }: { type: string; index: number }) {\n    const { onTabEdit } = this.props\n    if (onTabEdit) {\n      onTabEdit({ type, index })\n    }\n  }\n\n  render() {\n    const { children, ...extraProps } = this.props\n    const { activeIndex } = this.state\n    const props = {\n      handleTabChange: this.handleTabChange,\n      handleTabSequence: this.handleTabSequence,\n      handleEdit: this.handleEdit,\n      activeIndex,\n      ...extraProps\n    }\n\n    return (\n      <div>\n        {React.Children.map(children, (child) => {\n          return React.cloneElement(child, props)\n        })}\n      </div>\n    )\n  }\n}\n","import React from 'react';\n// The svg path is from react-icons: https://github.com/gorangajic/react-icons/\nconst Svg = ({d}: {d: string}) => (\n  <svg viewBox=\"0 0 40 40\" fill=\"currentColor\" height=\"1em\" width=\"1em\" style={{verticalAlign: 'middle'}}>\n    <g><path d={d}/></g>    \n  </svg>\n);\n\nconst CloseIcon = () => (\n  <Svg d=\"m31.6 10.7l-9.3 9.3 9.3 9.3-2.3 2.3-9.3-9.3-9.3 9.3-2.3-2.3 9.3-9.3-9.3-9.3 2.3-2.3 9.3 9.3 9.3-9.3z\"/>\n);\n\nconst LeftIcon = () => (\n  <Svg d=\"m25.7 12.3l-7.7 7.7 7.7 7.7-2.3 2.3-10-10 10-10z\"/>\n);\n\nconst RightIcon = () => (\n  <Svg d=\"m16.6 10l10 10-10 10-2.3-2.3 7.7-7.7-7.7-7.7z\"/>\n);\n\nconst BulletIcon = () => (\n  <Svg d=\"m31.7 28.3h-23.4c-1.8 0-3.3 1.5-3.3 3.4s1.5 3.3 3.3 3.3h23.4c1.8 0 3.3-1.5 3.3-3.3s-1.5-3.4-3.3-3.4z m0-11.6h-23.4c-1.8 0-3.3 1.5-3.3 3.3s1.5 3.3 3.3 3.3h23.4c1.8 0 3.3-1.5 3.3-3.3s-1.5-3.3-3.3-3.3z m0-11.7h-23.4c-1.8 0-3.3 1.5-3.3 3.3s1.5 3.4 3.3 3.4h23.4c1.8 0 3.3-1.5 3.3-3.4s-1.5-3.3-3.3-3.3z\"/>\n);\n\nexport {\n  CloseIcon,\n  LeftIcon,\n  RightIcon,\n  BulletIcon\n};","// @flow\nimport * as React from 'react';\n\ntype Props = {\n  handleTabChange: (event: any) => void,\n  handleTabSequence: (event: any) => void,\n  activeIndex: number,\n  children: React.ReactNode\n};\n\nexport default class SortMethod extends React.PureComponent<Props> {\n  constructor(props: Props) {\n    super(props);\n    this.onSortEnd = this.onSortEnd.bind(this);\n  }\n\n  onSortEnd({oldIndex, newIndex}: {oldIndex: number, newIndex: number}) {\n    const {activeIndex, handleTabChange, handleTabSequence} = this.props;\n    if (oldIndex === newIndex) {\n      if (activeIndex !== oldIndex) {\n        handleTabChange(oldIndex);\n      }\n    } else {\n      handleTabSequence({oldIndex, newIndex});\n    }\n  }\n}","import * as React from \"react\"\n// @ts-expect-error\nimport Poppop from \"react-poppop\"\nimport { SortableContainer } from \"react-sortable-hoc\"\nimport SortMethod from \"./SortMethod\"\n\ntype Props = {\n  closeModal: (event: any) => void\n  handleTabSequence: (event: any) => void\n  handleTabChange: (event: any) => void\n  activeIndex: number\n  children: React.ReactNode\n}\n\nconst DragTabContainer = SortableContainer(\n  ({ children }: { children: React.ReactNode }) => {\n    return <div style={{ marginTop: \"50px\" }}>{children}</div>\n  }\n)\n\nclass ModalTabListWrapper extends SortMethod {\n  render() {\n    return (\n      <DragTabContainer\n        onSortEnd={this.onSortEnd}\n        axis=\"y\"\n        lockAxis=\"y\"\n        // if no pressDelay, close button cannot be triggered,\n        // because it would always treat click as dnd action\n        pressDelay={100}\n      >\n        {this.props.children}\n      </DragTabContainer>\n    )\n  }\n}\n\nexport default class TabModal extends React.Component<Props> {\n  render() {\n    return (\n      <Poppop\n        open={true}\n        onClose={this.props.closeModal}\n        closeOnEsc={true}\n        closeBtn={true}\n      >\n        <ModalTabListWrapper\n          handleTabSequence={this.props.handleTabSequence}\n          handleTabChange={this.props.handleTabChange}\n          activeIndex={this.props.activeIndex}\n        >\n          {this.props.children}\n        </ModalTabListWrapper>\n      </Poppop>\n    )\n  }\n}\n","// @ts-nocheck\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport invariant from 'invariant';\nimport {LeftIcon, RightIcon, BulletIcon} from './IconSvg';\nimport {isNumber} from './utils/isType';\nimport TabModal from './TabModal';\n\nconst buttonWidth = 35;\nconst getPadding = ({showModalButton, showArrowButton}) => {\n  let paddingLeft = 0;\n  let paddingRight = 0;\n  if (showModalButton) {\n    paddingLeft += buttonWidth;\n  }\n  if (showArrowButton) {\n    paddingLeft += buttonWidth;\n    paddingRight += buttonWidth;\n    if (showModalButton) {\n      paddingLeft += 2;\n    }\n  }\n  if (paddingLeft > 0) {\n    paddingLeft += 3;\n  }\n  if (paddingRight > 0) {\n    paddingRight += 3;\n  }\n  return `0 ${paddingRight}px 0 ${paddingLeft}px`;\n}\n\nconst TabListStyle = styled.div`\n  background-color: white;\n  text-align: left;\n  position: relative;\n  white-space: nowrap;\n  overflow: hidden;\n  width: auto;\n  padding: ${props => getPadding(props)};\n`;\n\nconst ListInner = styled.div`\n  overflow: hidden;\n`;\n\nconst ListScroll = styled.ul`\n  padding-left: 0;\n  position: relative;\n  margin: 0;\n  list-style: none;\n  display: inline-block;\n  transition: transform .3s cubic-bezier(.42, 0, .58, 1);\n`;\n\nconst ActionButtonStyle = styled.div`\n  height: 100%;\n  width: ${buttonWidth}px;\n  text-align: center;\n  border: 1px solid #d9d9d9;\n  border-bottom: 0;\n  border-radius: 4px 4px 0 0;\n  background: #f9f9f9;\n  > svg {\n    padding-top: 11px;\n  }\n`;\n\nconst makeScrollButton = ActionButton => styled(ActionButton)`\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  ${props => props.left ?\n    props.showModalButton ? `left: ${buttonWidth + 2}px`: `left: 0`\n  : 'right: 0'\n  };\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\nconst makeFoldButton = ActionButton => styled(ActionButton)`\n  display: inline-block;\n  filter: none;\n  position: absolute;\n  left: 0;\n  &:hover {\n    cursor: pointer;\n  }\n`;\n\ntype Props = {\n  customStyle: {\n    TabList: React.FC<Partial<Props>>,\n    Tab: JSX.Element,\n    ActionButton: JSX.Element\n  },\n  activeIndex: number,\n  showArrowButton: 'auto' | boolean,\n  showModalButton: number | boolean,\n  handleTabChange: (event: any) => void,\n  handleTabSequence: (event: any) => void,\n  handleEdit: (event: any) => void,\n  ExtraButton: React.ReactElement<'div'>,\n  children: React.ReactNode[],\n  hasExtraButton?: boolean\n};\n\ntype State = {\n  modalIsOpen: boolean,\n  showArrowButton: boolean,\n  showModalButton: boolean | number\n};\n\nexport default class TabListComponent extends React.Component<Props, State> {\n\n  listContainer: React.ElementRef<'div'>;\n  rightArrowNode: React.ElementRef<'div'>;\n  leftArrowNode: React.ElementRef<'div'>;\n  listScroll: React.ElementRef<'ul'>;\n  foldNode: React.ElementRef<'div'>;\n  tabRefs:  React.ElementRef<'div'>[];\n  scrollPosition: number;\n\n  constructor(props: Props) {\n    super(props);\n    this.handleScroll = this.handleScroll.bind(this);\n    this.toggleModal = this.toggleModal.bind(this);\n    this.renderTabs = this.renderTabs.bind(this);\n    this.renderArrowButton = this.renderArrowButton.bind(this);\n    this.isShowModalButton = this.isShowModalButton.bind(this);\n    this.isShowArrowButton = this.isShowArrowButton.bind(this);\n    this.scrollPosition = 0;\n    this.tabRefs = [];\n    this.state = {\n      modalIsOpen: false,\n      showArrowButton: false,\n      showModalButton: false\n    }\n  }\n\n  componentDidMount() {\n    this.isShowArrowButton();\n    this.isShowModalButton();\n    if(this.props.activeIndex > 0)\n      this.scrollToIndex(this.props.activeIndex, 'left')\n  }\n\n  componentDidUpdate(prevProps: Props, prevState: State) {\n    if (prevProps.children.length !== this.props.children.length) {\n      this.isShowArrowButton();\n      this.isShowModalButton();\n    }\n\n    if (prevProps.activeIndex !== this.props.activeIndex) {\n      //if we scroll to the last tab, alignment is set to the right side of the tab\n      const rectSide = this.props.activeIndex === this.props.children.length - 1 ? 'right' : 'left';\n      this.scrollToIndex(this.props.activeIndex, rectSide);\n    }\n    // if prev state show arrow button, and current state doesn't show\n    // need to reset the scroll position, or some tabs will be hided by container.\n    if (prevState.showArrowButton && !this.state.showArrowButton) {\n      this.scrollToZero();\n    }\n\n    if (prevProps.showModalButton !== this.props.showModalButton) {\n      this.isShowModalButton();\n    }\n\n    if (prevProps.showArrowButton !== this.props.showArrowButton) {\n      this.isShowArrowButton();\n    }\n  }\n\n  getTabNode(tab: any): React.ElementRef<'div'> {\n    if (tab.__INTERNAL_NODE) { // normal tab\n      return tab.__INTERNAL_NODE;\n    } else if (tab.__DRAG_TAB_INTERNAL_NODE) { // drag tab\n      return tab.__DRAG_TAB_INTERNAL_NODE.node;\n    }\n  }\n\n  unifyScrollMax(width: number) {\n    return (width / 3) * 2;\n  }\n\n  handleScroll(direction: 'right' | 'left') {\n    let leftMove = 0;\n    const containerOffset = this.listContainer.getBoundingClientRect();\n    const containerWidth = this.listContainer.offsetWidth;\n    const tabFirstOffset = this.getTabNode(this.tabRefs[0]).getBoundingClientRect();\n    const tabLastOffset = this.getTabNode(this.tabRefs[this.tabRefs.length - 1]).getBoundingClientRect();\n\n    if (direction === 'right') {\n      leftMove = tabLastOffset.right - containerOffset.right;\n      if (leftMove > containerWidth) {\n        leftMove = this.unifyScrollMax(containerWidth);\n      }\n    } else if (direction === 'left') {\n      leftMove = tabFirstOffset.left - containerOffset.left;\n      if (-leftMove > containerWidth) {\n        leftMove = - this.unifyScrollMax(containerWidth);\n      }\n    }\n    this.scrollPosition += leftMove;\n    if (this.scrollPosition < 0) {\n      this.scrollPosition = 0;\n    }\n\n    this.listScroll.style.transform = `translate3d(-${this.scrollPosition}px, 0, 0)`;\n  }\n\n  // $FlowFixMe\n  scrollToIndex(index: number, rectSide: 'left' | 'right') {\n    const tabOffset = this.getTabNode(this.tabRefs[index]).getBoundingClientRect();\n    const containerOffset = this.listContainer.getBoundingClientRect();\n    // Cancel scrolling if the tab is visible\n    if(tabOffset.right < containerOffset.right &&\n       tabOffset.left > containerOffset.left) return;\n    const leftMove = tabOffset[rectSide] - containerOffset[rectSide];\n    this.scrollPosition += leftMove;\n    if (this.scrollPosition < 0 ) {\n      this.scrollPosition = 0;\n    }\n    this.listScroll.style.transform = `translate3d(-${this.scrollPosition}px, 0, 0)`;\n  }\n\n  scrollToZero() {\n    this.listScroll.style.transform = `translate3d(0, 0, 0)`;\n  }\n\n  toggleModal(open: boolean) {\n    this.setState({modalIsOpen: open}, () => {\n      if (!open) {\n        // $FlowFixMe\n        this.scrollToIndex(this.props.activeIndex, 'right');\n      }\n    });\n  }\n\n  isShowModalButton() {\n    let {showModalButton} = this.props;\n    if (isNumber(showModalButton)) {\n      // $FlowFixMe, weired. currently set showModalButton as number | bool, but don't know why flow only can recognize it as bool\n      showModalButton = this.props.children.length >= showModalButton;\n    }\n    this.setState({showModalButton});\n  }\n\n  isShowArrowButton() {\n    let {showArrowButton} = this.props;\n    if (showArrowButton === 'auto') {\n      let tabWidth = 0;\n      const containerWidth = this.listContainer.offsetWidth;\n      showArrowButton = false;\n      for (let index = 0; index < this.tabRefs.length; index++) {\n        const tab = this.getTabNode(this.tabRefs[index]);\n        tabWidth += tab.offsetWidth;\n        if (tabWidth >= containerWidth) {\n          showArrowButton = true;\n          break;\n        }\n      }\n    }\n    // $FlowFixMe: flow will show 'auto' is not bool, but with this logic, showArrowButton will never be 'auto'\n    this.setState({showArrowButton});\n  }\n\n  renderTabs(options: any = {}, isModal?: boolean) {\n    const {children, activeIndex, handleTabChange, handleEdit, customStyle} = this.props;\n    const props = {\n      handleTabChange,\n      handleEdit,\n      //$FlowFixMe\n      CustomTabStyle: customStyle.Tab\n    };\n    if (!isModal) {\n      this.tabRefs = [];\n    }\n    return React.Children.map(children, (child, index) => (\n      React.cloneElement(child, {\n        key: index,\n        active: index === activeIndex,\n        index,\n        tabIndex: index,\n        ref: node => {\n          if (!isModal && node) {\n            this.tabRefs.push(node)\n          }\n        },\n        ...props,\n        ...options\n      })\n    ));\n  }\n\n  renderArrowButton(ScrollButton: React.ComponentType<{}>) {\n    const {showArrowButton} = this.state;\n    if (showArrowButton) {\n      return (\n        <div>\n          <ScrollButton left\n            onClick={() => { this.handleScroll('left') }}\n            ref={node => this.leftArrowNode = node}\n            showModalButton={this.state.showModalButton}>\n            <LeftIcon />\n          </ScrollButton>\n          <ScrollButton onClick={() => { this.handleScroll('right') }}\n            ref={node => this.rightArrowNode = node}>\n            <RightIcon />\n          </ScrollButton>\n        </div>\n      )\n    }\n    return null;\n  }\n\n  render() {\n    const {\n      customStyle,\n      activeIndex,\n      handleTabChange,\n      handleTabSequence,\n      ExtraButton\n    } = this.props;\n    const {modalIsOpen} = this.state;\n    const TabList = customStyle.TabList || TabListStyle;\n    const ActionButton = customStyle.ActionButton || ActionButtonStyle;\n    const ScrollButton = makeScrollButton(ActionButton);\n    const FoldButton = makeFoldButton(ActionButton);\n    invariant(this.props.children, 'React-tabtab Error: You MUST pass at least one tab')\n    return (\n      <div>\n        {ExtraButton ? ExtraButton : null}\n        <TabList hasExtraButton={!!ExtraButton}\n                 showModalButton={this.state.showModalButton}\n                 showArrowButton={this.state.showArrowButton}>\n          {this.state.showModalButton ?\n            <FoldButton ref={node => this.foldNode = node}\n                        onClick={this.toggleModal.bind(this, true)}\n                        showArrowButton={this.state.showArrowButton}>\n              <BulletIcon/>\n            </FoldButton>\n          : null}\n          {this.renderArrowButton(ScrollButton)}\n          <ListInner ref={node => this.listContainer = node}>\n            <ListScroll ref={node => this.listScroll = node} role=\"tablist\">\n              {this.renderTabs()}\n            </ListScroll>\n          </ListInner>\n        </TabList>\n        {modalIsOpen ?\n          <TabModal closeModal={this.toggleModal.bind(this, false)}\n                    handleTabSequence={handleTabSequence}\n                    handleTabChange={handleTabChange}\n                    activeIndex={activeIndex}>\n            {this.renderTabs({vertical: true}, true)}\n          </TabModal>\n        : null}\n      </div>\n    )\n  }\n}\n\nexport {\n  TabListStyle,\n  ActionButtonStyle\n}\n","// @flow\nexport function isTabList(element: any) {\n  return element.type && \n         (element.type.displayName === 'TabList' || element.type.displayName === 'DragTabList');  \n}\n\nexport function isTab(element: any) {\n  return element.type && \n         (element.type.displayName === 'Tab' || element.type.displayName === 'DragTab');\n}\n\nexport function isNumber(number: any) {\n  return !isNaN(parseInt(number, 10));\n}","// @flow\nimport * as React from 'react';\nimport {CloseIcon} from './IconSvg';\nimport styled from 'styled-components';\n\nconst CloseWrapper = styled.button`\n  display: inline-block;\n  color: #777;\n  margin-left: 5px;\n  padding: 0;\n  vertical-align: middle;\n  border: 0;\n  padding: 2px;\n  outline: 0;\n  &:hover {\n    color: black;\n    background-color: #eee;\n    cursor: pointer;\n    border-radius: 50%;\n  }\n  > svg {\n    vertical-align: middle;\n  }\n`;\n\ntype Props = {\n  handleDelete: (event: any) => void\n};\n\nexport default class CloseButton extends React.PureComponent<Props> {\n  render() {\n    return (\n      <CloseWrapper onClick={this.props.handleDelete}>\n        <CloseIcon/>        \n      </CloseWrapper>\n    );\n  }\n}\n","// @flow\nimport * as React from 'react';\nimport styled from 'styled-components';\nimport CloseButton from './CloseButton';\n\n// const TabLi: React.FC<React.LiHTMLAttributes<HTMLLIElement> & TabProps> = (props: React.LiHTMLAttributes<HTMLLIElement>) => {\n//   return <li {...props}></li>\n// }\n\nconst TabLi = React.forwardRef<HTMLLIElement, React.LiHTMLAttributes<HTMLLIElement> & Partial<TabProps>>(\n  (props: React.LiHTMLAttributes<HTMLLIElement> & Partial<TabProps>, ref) => {\n    return <li ref={ref} {...props}>{props.children}</li> \n  })\n\nconst TabStyle = styled(TabLi)`\n  display: ${props => props.vertical ? 'block': 'inline-block'};\n  ${props => props.vertical ?\n    `\n      background-color: white;\n      color: black;\n      padding: 10px 10px;\n      z-index: 100000;\n    `\n  : props => props.closable ? 'padding: 10px 10px 10px 15px;' : 'padding: 10px 15px;'\n  }\n\n  user-select: none;\n  &:hover {\n    cursor: pointer;\n    color: black;\n  }\n`;\n\nconst TabText = styled.span`\n  vertical-align: middle;\n`;\n\nexport type TabProps = {\n  CustomTabStyle: React.FC<Partial<TabProps>>,\n  handleTabChange: (event: any) => void,\n  handleEdit: (event: any) => void,\n  index: number,\n  active: boolean,\n  closable: boolean,\n  vertical: boolean,\n  children: React.ReactNode\n};\n\nexport default class Tab extends React.PureComponent<TabProps> {\n\n  __INTERNAL_NODE: React.ElementRef<any>;\n\n  constructor(props: TabProps) {\n    super(props);\n    this.clickTab = this.clickTab.bind(this);\n    this.clickDelete = this.clickDelete.bind(this);\n  }\n\n  clickTab() {\n    const {handleTabChange, index} = this.props;\n    handleTabChange(index);\n  }\n\n  clickDelete(event: React.SyntheticEvent<HTMLButtonElement>) {\n    event.stopPropagation(); // prevent trigger clickTab event.\n    const {handleEdit, index} = this.props;\n    handleEdit({type: 'delete', index});\n  }\n\n  render() {\n    const {CustomTabStyle, active, closable, vertical, index} = this.props;\n    const TabComponent = CustomTabStyle || TabStyle;\n    return (\n      <TabComponent ref={node => this.__INTERNAL_NODE = node}\n                    onClick={this.clickTab}\n                    active={active}\n                    vertical={vertical}\n                    closable={closable}\n                    role=\"tab\"\n                    id={`react-tabtab-tab-${index}`}\n                    aria-controls={`react-tabtab-panel-${index}`}\n                    aria-selected={active}>\n        <TabText>{this.props.children}</TabText>\n        {closable ?\n          <CloseButton handleDelete={this.clickDelete}/>\n        : null}\n      </TabComponent>\n    )\n  }\n}\n\nexport {\n  TabStyle\n};","// @ts-nocheck\nimport React from 'react';\nimport SortMethod from './SortMethod';\nimport {SortableContainer} from 'react-sortable-hoc';\nimport TabList from './TabList';\n\nconst DragTabContainer = SortableContainer(({children, ...props}) => {\n  return (\n    <TabList {...props}>\n      {children}\n    </TabList>\n  );\n});\n\nexport default class DragTabList extends SortMethod {\n  render() {\n    const {children, ...props} = this.props;\n    return (\n      <DragTabContainer onSortEnd={this.onSortEnd}\n                        axis='x'\n                        lockAxis='x'\n                        // if no pressDelay, close button cannot be triggered,\n                        // because it would always treat click as dnd action\n                        pressDelay={100}\n                        {...props}>\n        {children}\n      </DragTabContainer>\n    );\n  }\n}\n\nDragTabList.displayName = 'DragTabList';","// @flow\nimport * as React from 'react';\nimport {SortableElement} from 'react-sortable-hoc';\nimport Tab, { TabProps } from './Tab';\n\nconst DragTabElement = SortableElement(({children, ...props}: Partial<TabProps>) => {\n  return (\n    // @ts-ignore\n    <Tab  {...props} index={props.tabIndex}>\n      {children}\n    </Tab>\n  )\n});\n\n\n\nclass DragTab extends React.PureComponent {\n\n  __DRAG_TAB_INTERNAL_NODE: React.ElementRef<any>;\n\n  render() {\n    const {children, ...props} = this.props;\n    return (\n      <DragTabElement index={0} ref={node => this.__DRAG_TAB_INTERNAL_NODE = node} {...props}>\n        {children}\n      </DragTabElement>\n    )\n  }\n}\n\nexport default DragTab;","// @flow\nimport * as React from 'react';\nimport { ReactElement } from 'react';\n\ntype Props = {\n  children: Array<any>,\n  activeIndex: number,\n  customStyle: {\n    Panel: () => void\n  }\n};\n\nexport default class PanelList extends React.PureComponent<Props> {\n  render() {\n    const {\n      children,\n      activeIndex,\n      customStyle\n    } = this.props;\n    if (!children || activeIndex === undefined) {\n      return null;\n    }\n\n    let props = {};\n    if (customStyle && customStyle.Panel) {\n      props = {...props, CustomPanelStyle: customStyle.Panel}\n    }\n\n    // to prevent the type of one children is object type\n    const result = React.Children.toArray(children).map((child, index) => (\n      React.cloneElement(child as ReactElement, {\n        key: index,\n        active: index === activeIndex,\n        index,\n        ...props\n      })\n    ));\n    return <div>{result}</div>\n  }\n}\n","// @flow\nimport * as React from 'react'\nimport styled from 'styled-components';\n\nconst PanelStyle = styled.div<{active: boolean}>`\n  background-color: white;\n  text-align: left;\n  padding: 20px 15px;\n  ${props => !props.active ? `display: none;` : null}\n`;\n\nexport type PanelProps = {\n  children: React.ReactNode,\n  CustomPanelStyle: React.FC<Partial<PanelProps>>,\n  active: boolean,\n  index: number\n};\n\nexport default class PanelComponent extends React.PureComponent<PanelProps> {\n  render() {\n    const {active, index} = this.props;\n    const Panel = this.props.CustomPanelStyle || PanelStyle;\n    return (\n      <Panel role=\"tabpanel\"\n             id={`react-tabtab-panel-${index}`}\n             aria-labelledby={`react-tabtab-${index}`}\n             aria-hidden={false}\n             active={active}>\n        {active ?\n          this.props.children\n        : null}\n      </Panel>\n    )\n  }\n}\n\nexport {\n  PanelStyle\n}","import * as React from 'react'\nimport Panel, { PanelProps } from './Panel';\n\ntype Props = {\n  loadContent: (cb: Function) => any,\n  render: (data: any) => React.ReactNode,\n  renderLoading: () => React.ReactNode,\n  CustomPanelStyle: React.FC<Partial<PanelProps>>,\n  active: boolean,\n  index: number,\n  cache: boolean\n};\n\ntype State = {\n  isLoading: boolean,\n  data: any\n};\n\nexport default class AsyncPanelComponent extends React.PureComponent<Props, State> {\n  static defaultProps = {\n    cache: true\n  };\n\n  cacheData: any;\n\n  constructor(props: Props) {\n    super(props);\n    this.loadPanel = this.loadPanel.bind(this);\n    this.cacheData = undefined;\n    this.state = {\n      isLoading: false,\n      data: undefined\n    };\n  }\n\n  componentDidMount() {\n    if (this.props.active)\n      this.loadPanel();\n  }\n\n  componentWillReceiveProps(nextProps: Props) {\n    if (nextProps.active)\n      this.loadPanel();\n  }\n\n  loadPanel() {\n    const {loadContent, cache} = this.props;\n    if (cache && this.cacheData) {\n      this.setState({\n        isLoading: false,\n        data: this.cacheData\n      });\n      return;\n    }\n    const callback = (err: any, data?: any) => {\n      if (err) {\n        console.log('React-Tabtab async panel error:', err);\n      }\n      if (cache) {\n        this.cacheData = data;\n      }\n      this.setState({\n        isLoading: false,\n        data\n      });\n    }\n    const promise = loadContent(callback);\n    if (promise) {\n      promise.then(\n        (data: any) => callback(null, data),\n        (err: any) => callback(err)\n      );\n    }    \n    if (!this.state.isLoading) {\n      this.setState({isLoading: true});\n    }\n  }\n\n  render() {\n    const {render, renderLoading, CustomPanelStyle, active, index} = this.props;\n    const {isLoading, data} = this.state;\n    let content;\n    if (isLoading) {\n      content = renderLoading();\n    } else {\n      content = render(data);\n    }\n    return (\n      <Panel {...{CustomPanelStyle, active, index}}>\n        {content}\n      </Panel>\n    )\n  }\n}","// @flow\nimport * as React from 'react';\nimport styled from 'styled-components';\n\nconst Wrapper = styled.button`\n  float: right;\n  border: 1px solid #eee;\n  border-radius: 2px;\n  padding: 3px;\n  margin-top: 10px;\n  margin-left: 2px;\n  display: inline-block;\n  color: #777;\n  vertical-align: middle;\n  /* ${props => props.disabled ? `\n    pointer-events: none;\n    color: #AAA;\n    background: #F5F5F5;\n  ` \n  : null} */\n  &:hover {\n    color: black;\n    cursor: pointer;\n  }\n  &:disabled,\n  &[disabled]{\n    border: 1px solid grey;\n    background-color: #e7e7e7;\n    cursor: not-allowed;\n  }\n`;\n\ntype Props = {\n  onClick: (event: any) => void,\n  disabled: boolean,\n  children: React.ReactNode\n};\n\nexport default class ExtraButton extends React.PureComponent<Props> {\n  static defaultProps = {\n    disabled: false\n  }\n\n  render() {\n    const {disabled, onClick} = this.props;\n    return (\n      <Wrapper onClick={onClick} disabled={disabled}>\n        {this.props.children}          \n      </Wrapper>\n    );\n  }\n}\n","// @flow\nimport Tabs from \"./Tabs\"\nimport TabList, { TabListStyle, ActionButtonStyle } from \"./TabList\"\nimport Tab, { TabStyle } from \"./Tab\"\nimport DragTabList from \"./DragTabList\"\nimport DragTab from \"./DragTab\"\nimport PanelList from \"./PanelList\"\nimport Panel, { PanelStyle } from \"./Panel\"\nimport AsyncPanel from \"./AsyncPanel\"\nimport ExtraButton from \"./ExtraButton\"\n\nexport {\n  Tabs,\n  TabList,\n  Tab,\n  DragTabList,\n  DragTab,\n  PanelList,\n  Panel,\n  AsyncPanel,\n  ExtraButton\n}\n\nexport const styled = { TabListStyle, ActionButtonStyle, TabStyle, PanelStyle }\n"],"names":["Tabs","_super","props","_this","call","this","handleTabChange","bind","handleTabSequence","handleEdit","state","activeIndex","getActiveIndex","__extends","prototype","defaultIndex","componentWillReceiveProps","nextProps","setState","index","_a","onTabChange","oldIndex","newIndex","onTabSequenceChange","type","onTabEdit","render","children","extraProps","__rest","__assign","React","createElement","Children","map","child","cloneElement","defaultProps","showModalButton","showArrowButton","customStyle","TabList","Tab","Panel","ActionButton","Component","Svg","d","viewBox","fill","height","width","style","verticalAlign","CloseIcon","LeftIcon","RightIcon","BulletIcon","SortMethod","onSortEnd","_b","PureComponent","DragTabContainer","SortableContainer","marginTop","ModalTabListWrapper","axis","lockAxis","pressDelay","TabModal","Poppop","open","onClose","closeModal","closeOnEsc","closeBtn","TabListStyle","styled","div","templateObject_1","__makeTemplateObject","paddingLeft","paddingRight","concat","ListInner","templateObject_2","ListScroll","ul","templateObject_3","ActionButtonStyle","templateObject_4","TabListComponent","handleScroll","toggleModal","renderTabs","renderArrowButton","isShowModalButton","isShowArrowButton","scrollPosition","tabRefs","modalIsOpen","componentDidMount","scrollToIndex","componentDidUpdate","prevProps","prevState","length","rectSide","scrollToZero","getTabNode","tab","__INTERNAL_NODE","__DRAG_TAB_INTERNAL_NODE","node","unifyScrollMax","direction","leftMove","containerOffset","listContainer","getBoundingClientRect","containerWidth","offsetWidth","tabFirstOffset","tabLastOffset","right","left","listScroll","transform","tabOffset","isNaN","parseInt","tabWidth","options","isModal","CustomTabStyle","key","active","tabIndex","ref","push","ScrollButton","onClick","leftArrowNode","rightArrowNode","ExtraButton","templateObject_5","buttonWidth","makeScrollButton","FoldButton","templateObject_6","makeFoldButton","invariant","hasExtraButton","foldNode","role","vertical","CloseWrapper","button","CloseButton","handleDelete","TabLi","forwardRef","TabStyle","closable","TabText","span","clickTab","clickDelete","event","stopPropagation","TabComponent","id","DragTabList","displayName","DragTabElement","SortableElement","DragTab","PanelList","undefined","CustomPanelStyle","result","toArray","PanelStyle","PanelComponent","AsyncPanelComponent","loadPanel","cacheData","isLoading","data","loadContent","cache","callback","err","console","log","promise","then","content","renderLoading","Wrapper","disabled"],"mappings":"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"}